@section Scripts {
    
@Scripts.Render("~/bundles/appFile")

}

<div class="row">
    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Files</h2>
            </div>
            <div class="panel-body">                             
                <ul class="list-unstyled" data-bind="foreach: files">
                    <li>
                        <strong><span data-bind="text: UserName"></span></strong> --- <strong><span data-bind="text: FolderName"></span></strong>: <span data-bind="text: Name"></span>
                        <!-- New code -->
                        <small><a href="#" data-bind="click: $parent.getFileDetail">Edit</a></small>
                        <small><a href="#" data-bind="click: $parent.deleteFile">Delete</a></small>
                    </li>
                </ul>             

            </div>
        </div>
        <div class="alert alert-danger" data-bind="visible: error"><p data-bind="text: error"></p></div>
    </div>
    <!-- ko if:detail() -->

    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Edit File</h2>
            </div>
            <div class="panel-body">
                <form class="form-horizontal" data-bind="submit: editFile">
                    <div class="form-group">
                        <input type="hidden" id="FileId" data-bind="value: detail().Id" />
                        <input type="hidden" id="FolderId" data-bind="value: detail().UserId" />

                        <label for="addUser" class="col-sm-2 control-label">User</label>
                        <input type="text" class="form-control" id="addUser" data-bind="value: detail().UserName" readonly />
                    </div>

                    <div class="form-group">
                        <input type="hidden" id="FileId" data-bind="value: detail().Id" />
                        <input type="hidden" id="FolderId" data-bind="value: detail().FolderId" />

                        <label for="addFolder" class="col-sm-2 control-label">Folder</label>
                        <input type="text" class="form-control" id="addFolder" data-bind="value: detail().FolderName" readonly />
                    </div>

                    <div class="form-group">
                        <label for="editFileName" class="col-sm-2 control-label">Name</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="editFileName" data-bind="value:detail().Name" placeholder="File Name" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="editFileSize" class="col-sm-2 control-label">Size</label>
                        <div class="col-sm-10">
                            <input type="number" class="form-control" id="editFileSize" data-bind="value:detail().Size" placeholder="1000" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="editFileExtension" class="col-sm-3 control-label">Extension</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="editFileExtension" data-bind="value:detail().FileExtension" placeholder=".txt" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="editFilePath" class="col-sm-2 control-label">Path</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="editFilePath" data-bind="value:detail().Path" placeholder="D:\Work\test\" />
                        </div>
                    </div>

                    <button type="submit" class="btn btn-default">Edit File Info</button>
              </form>

</div>
        </div>
    </div>
    
    <!-- /ko -->
    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Add File</h2>
            </div>
            <div class="panel-body">
                <form class="form-horizontal" data-bind="submit: addFile">
                    <div class="form-group">
                        <label for="addFolder" class="col-sm-2 control-label">Folder</label>
                        <div class="col-sm-10">
                            <select data-bind="options:folders, optionsText: 'Name', value: newFile.Folder"></select>
                        </div>
                    </div>                    
                    <button type="submit" class="btn btn-default">Add new file</button>
                </form>
            </div>
        </div>
    </div>

</div>
