@section Scripts {
    @Scripts.Render("~/bundles/app")
}


<div class="row">
    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Folders</h2>
            </div>
            <div class="panel-body">
                
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>UserName</th>
                            <th>FolderName</th>                           
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: folders">

                        <tr>
                            <td data-bind="text: UserName"></td>                            
                            <td data-bind="text: Name"></td>
                            <!-- New code -->
                            <td><small><a href="#" data-bind="click: $parent.getFolderDetail">Edit</a></small></td>
                            <td><small><a href="#" data-bind="click: $parent.deleteFolder">Delete</a></small></td>
                        </tr>

                    </tbody>
                </table>

            </div>
        </div>
        <div class="alert alert-danger" data-bind="visible: error"><p data-bind="text: error"></p></div>
    </div>
    <!-- ko if:detail() -->
    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Edit Folder</h2>
            </div>
            <div class="panel-body">
                <form class="form-horizontal" data-bind="submit: editFolder">
                    <div class="form-group">
                        <input type="hidden" id="FolderId" data-bind="value: detail().Id" />
                        <input type="hidden" id="UserId" data-bind="value: detail().UserId" />
                        <label for="addUser" class="col-sm-2 control-label">User</label>
                        <label id="addUser" class="col-sm-4 control-label" data-bind="text: detail().UserName"></label>
                    </div>
                    <div class="form-group" >
                        <label for="editFolderName" class="col-sm-2 control-label">Folder Name</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="editFolderName" data-bind="value:detail().Name" placeholder="Folder Name" />
                        </div>                      
                    </div>
                    <button type="submit" class="btn btn-default">Edit Folder</button>
                </form>
            </div>
        </div>
    </div>
    <!-- /ko -->
    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Add Folder</h2>
            </div>
            <div class="panel-body">
                <form class="form-horizontal" data-bind="submit: addFolder">
                    <div class="form-group" >                 
                        <label for="addUser" class="col-sm-2 control-label">User</label>
                        <div class="col-sm-10">
                            <select data-bind="options:users, optionsText: 'email', value: newFolder.User"></select>
                        </div>
                    </div>
                    <div class="form-group" data-bind="with: newFolder">

                        <label for="addFoldername" class="col-sm-2 control-label">Folder Name</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="addFolderName" data-bind="value:Name" placeholder="Folder Name" />
                        </div>
                    </div>
                    <button type="submit" class="btn btn-default">Add new folder</button>
                </form>
            </div>
        </div>
    </div>

</div>